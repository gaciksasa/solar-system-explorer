<div class="scene-wrapper">
  <canvas #canvas class="solar-canvas"></canvas>

  <!-- Desktop HUD (top-left) -->
  <div class="hud">
    <div class="hud-title">Istra≈æivaƒç Solarnog sistema</div>
    <div class="speed-controls">
      <span class="speed-label">Brzina simulacije</span>
      <div class="speed-buttons">
        <button class="hud-btn" (click)="decreaseSpeed()" title="Uspori">‚óÄ‚óÄ</button>
        <span class="speed-value">{{ simulationSpeed() / 0.25 }}x</span>
        <button class="hud-btn" (click)="increaseSpeed()" title="Ubrzi">‚ñ∂‚ñ∂</button>
      </div>
      <button class="hud-btn reset-btn" (click)="resetSpeed()">Resetuj</button>
    </div>
    <div class="mouse-controls">
      <div class="hud-hint">Klikni na planetu za detalje</div>
      <div class="mouse-row"><span class="mouse-icon">üñ±Ô∏è Levi</span><span class="mouse-desc">Rotacija</span></div>
      <div class="mouse-row"><span class="mouse-icon">üñ±Ô∏è Desni</span><span class="mouse-desc">Pomicanje</span></div>
      <div class="mouse-row"><span class="mouse-icon">‚öôÔ∏è Skrol</span><span class="mouse-desc">Zum</span></div>
    </div>
  </div>

  <!-- Mobile bottom bar ‚Äî single row with labeled groups -->
  <div class="mobile-bar">
    <!-- Speed -->
    <div class="mobile-group">
      <span class="mobile-label">Brzina</span>
      <div class="mobile-btns">
        <button class="nav-btn" (click)="decreaseSpeed()" title="Uspori">‚óÄ‚óÄ</button>
        <span class="speed-value">{{ simulationSpeed() / 0.25 }}x</span>
        <button class="nav-btn" (click)="increaseSpeed()" title="Ubrzi">‚ñ∂‚ñ∂</button>
      </div>
    </div>

    <div class="mobile-divider"></div>

    <!-- Pan -->
    <div class="mobile-group">
      <span class="mobile-label">Pomicanje</span>
      <div class="mobile-btns">
        <button class="nav-btn" title="Levo"
          (pointerdown)="startNav('panLeft')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚óÄ</button>
        <button class="nav-btn" title="Gore"
          (pointerdown)="startNav('panUp')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚ñ≤</button>
        <button class="nav-btn" title="Dole"
          (pointerdown)="startNav('panDown')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚ñº</button>
        <button class="nav-btn" title="Desno"
          (pointerdown)="startNav('panRight')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚ñ∂</button>
      </div>
    </div>

    <div class="mobile-divider"></div>

    <!-- Rotate -->
    <div class="mobile-group">
      <span class="mobile-label">Rotacija</span>
      <div class="mobile-btns">
        <button class="nav-btn" title="Rotiraj levo"
          (pointerdown)="startNav('rotateLeft')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚Ü∫</button>
        <button class="nav-btn" title="Rotiraj gore"
          (pointerdown)="startNav('rotateUp')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚Üë</button>
        <button class="nav-btn" title="Rotiraj dole"
          (pointerdown)="startNav('rotateDown')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚Üì</button>
        <button class="nav-btn" title="Rotiraj desno"
          (pointerdown)="startNav('rotateRight')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚Üª</button>
      </div>
    </div>

    <div class="mobile-divider"></div>

    <!-- Zoom -->
    <div class="mobile-group">
      <span class="mobile-label">Zum</span>
      <div class="mobile-btns">
        <button class="nav-btn" title="Zoom in"
          (pointerdown)="startNav('zoomIn')" (pointerup)="stopNav()" (pointerleave)="stopNav()">+</button>
        <button class="nav-btn" title="Zoom out"
          (pointerdown)="startNav('zoomOut')" (pointerup)="stopNav()" (pointerleave)="stopNav()">‚àí</button>
      </div>
    </div>
  </div>

  @if (hoveredPlanet(); as hp) {
    <div class="planet-tooltip"
         [style.left.px]="tooltipPos().x"
         [style.top.px]="tooltipPos().y">
      <span class="tooltip-dot" [style.background]="hp.color"></span>
      {{ hp.name }}
    </div>
  }
</div>
